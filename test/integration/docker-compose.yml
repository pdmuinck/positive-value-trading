version: '3'

services:
  kambi:
    image: kambi
    build: ../../workers/kambi-service
    restart: always
    ports:
      - 3000:3000
    expose:
      - 3000
  
  sbtech:
    image: sbtech
    build: ../../workers/sbtech-service
    restart: always
    ports:
      - 3001:3001
    expose:
      - 3001
  
  betradar:
    image: betradar
    build: ../../workers/betradar-service
    restart: always
    ports:
      - 3002:3002
    expose:
      - 3002

  worker-interface:
    image: worker-interface
    build: ../../workers/worker-interface
    restart: always
    ports:
      - 3009:3009
    depends_on:
      - kambi
      - sbtech
      - betradar
      - pinnacle
    environment:
      - NODE_ENV=development
    expose:
      - 3009

  event:
    image: event
    build: ../../schedulers/events
    restart: always
    ports:
      - 3003:3003
    depends_on:
      - worker-interface
    expose:
      - 3003

  betoffer:
    image: betoffer
    build: ../../schedulers/betoffers
    restart: always
    ports:
      - 3004:3004
    depends_on:
      - worker-interface
      - event
    expose:
      - 3004

  pinnacle:
    image: pinnacle
    build: ../../workers/pinnacle-service
    restart: always
    ports:
      - 3005:3005
    expose:
      - 3005